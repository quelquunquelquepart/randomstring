<!DOCTYPE html>
<html lang="fr-CA">
<body>

<pre id="out"></pre>

<script>
const params = new URLSearchParams(window.location.search);
const fic = params.get("fic");

if (!fic) {
  document.getElementById("out").textContent = "Aucun fichier spécifié";
} else {
  fetch(fic)
    .then(r => r.text())
    .then(t => {
      const lignes = t
        .split("\n")
        .map(l => l.trim())
        .filter(l => l.length > 0);
      
      if (lignes.length === 0) {
        document.getElementById("out").textContent = "Fichier vide";
      } else {
        const randomLine = lignes[Math.floor(Math.random() * lignes.length)];
        document.getElementById("out").textContent = randomLine;
      }
    })
    .catch(() => {
      document.getElementById("out").textContent = "Erreur de chargement";
    });
}
</script>

</body>
</html>
